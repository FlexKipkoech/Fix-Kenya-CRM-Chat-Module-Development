.chat-messages { height: 400px; overflow-y: auto; border: 1px solid #e5e5e5; padding: 12px; background: #fff; }
.chat-message { margin-bottom: 12px; max-width: 78%; padding:8px 12px; border-radius:8px; }
.chat-message.mine { background: #daf5e6; margin-left: auto; text-align: right; }
.chat-message.theirs { background: #f1f1f1; margin-right: auto; text-align: left; }
.chat-message-user { font-weight: 600; font-size: 13px; margin-bottom:4px; }
.chat-message-body { font-size: 14px; }
.chat-message-time { font-size: 11px; margin-top:6px; }
#chat-input { resize: none; }

/* Layout adjustments to avoid overlapping Perfex sidebar */
.chat-wrapper {
    display: flex;
    transition: all 0.3s ease; /* Smooth transition for dynamic adjustments */
}

.chat-sidebar {
    width: 250px;
    flex-shrink: 0;
    border-right: 1px solid #e5e5e5;
    height: calc(100vh - 160px); /* Adjust based on header/footer height */
    overflow-y: auto;
    transition: width 0.3s ease; /* Smooth width change */
}

.chat-main {
    flex-grow: 1;
    padding-left: 20px;
    height: calc(100vh - 160px); /* Adjust based on header/footer height */
    display: flex;
    flex-direction: column;
    transition: padding-left 0.3s ease; /* Smooth padding change */
}

/* Adjust when CRM sidebar is hidden (assuming class 'hide-sidebar' on body) */
body.hide-sidebar .chat-sidebar {
    width: 300px; /* Expand when main sidebar is hidden */
}

body.hide-sidebar .chat-main {
    padding-left: 30px; /* Adjust padding accordingly */
}

/* If the sidebar is collapsed with a different class, adjust accordingly */
body.sidebar-collapse .chat-sidebar {
    width: 300px;
}

body.sidebar-collapse .chat-main {
    padding-left: 30px;
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px;
    background: #fff;
    border: 1px solid #e5e5e5;
}

#chat-form {
    flex-shrink: 0;
    padding-top: 10px;
}

/* Responsive adjustments */
@media (max-width: 992px) {
    .chat-wrapper {
        flex-direction: column;
    }
    .chat-sidebar {
        width: 100%;
        height: auto;
        max-height: 250px;
        border-right: none;
        border-bottom: 1px solid #e5e5e5;
    }
    .chat-main {
        padding-left: 0;
    }
    body.hide-sidebar .chat-sidebar,
    body.sidebar-collapse .chat-sidebar {
        width: 100%;
    }
}

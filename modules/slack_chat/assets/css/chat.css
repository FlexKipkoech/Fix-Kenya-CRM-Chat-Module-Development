.chat-message-actions { display: none; margin-top: 5px; }
.chat-message:hover .chat-message-actions { display: block; }
.reaction-btn { padding: 2px 5px; font-size: 14px; }
.chat-message-reactions { margin-top: 5px; }
.reaction-bubble { display: inline-block; background: #f0f0f0; border-radius: 12px; padding: 2px 6px; margin-right: 4px; font-size: 12px; cursor: pointer; }
.reaction-bubble:hover { background: #e0e0e0; }
.file-attachment { margin-top: 5px; }
.file-attachment a { color: #007bff; text-decoration: none; }
.file-attachment a:hover { text-decoration: underline; }
.thread-indicator { margin-top: 5px; font-size: 12px; color: #666; }
.thread-btn { font-size: 12px; }
#typing-indicator { font-style: italic; color: #999; }
.btn-file { position: relative; overflow: hidden; }
.btn-file input[type=file] { position: absolute; top: 0; right: 0; min-width: 100%; min-height: 100%; font-size: 100px; text-align: right; filter: alpha(opacity=0); opacity: 0; outline: none; background: white; cursor: inherit; display: block; }

/* Layout adjustments to avoid overlapping Perfex sidebar */
.chat-wrapper {
    display: flex;
    transition: all 0.3s ease; /* Smooth transition for dynamic adjustments */
}

.chat-sidebar {
    width: 250px;
    flex-shrink: 0;
    border-right: 1px solid #e5e5e5;
    height: calc(100vh - 160px); /* Adjust based on header/footer height */
    overflow-y: auto;
    transition: width 0.3s ease; /* Smooth width change */
}

.chat-main {
    flex-grow: 1;
    padding-left: 20px;
    height: calc(100vh - 160px); /* Adjust based on header/footer height */
    display: flex;
    flex-direction: column;
    transition: padding-left 0.3s ease; /* Smooth padding change */
}

/* Adjust when CRM sidebar is hidden (assuming class 'hide-sidebar' on body) */
body.hide-sidebar .chat-sidebar {
    width: 300px; /* Expand when main sidebar is hidden */
}

body.hide-sidebar .chat-main {
    padding-left: 30px; /* Adjust padding accordingly */
}

/* If the sidebar is collapsed with a different class, adjust accordingly */
body.sidebar-collapse .chat-sidebar {
    width: 300px;
}

body.sidebar-collapse .chat-main {
    padding-left: 30px;
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px;
    background: #fff;
    border: 1px solid #e5e5e5;
}

#chat-form {
    flex-shrink: 0;
    padding-top: 10px;
}

/* Responsive adjustments */
@media (max-width: 992px) {
    .chat-wrapper {
        flex-direction: column;
    }
    .chat-sidebar {
        width: 100%;
        height: auto;
        max-height: 250px;
        border-right: none;
        border-bottom: 1px solid #e5e5e5;
    }
    .chat-main {
        padding-left: 0;
    }
    body.hide-sidebar .chat-sidebar,
    body.sidebar-collapse .chat-sidebar {
        width: 100%;
    }
}
